!function(a,b){"use strict";var c=a.Intl||a.IntlPolyfill;"function"==typeof define&&define.amd&&define(["intl-messageformat"],function(a){return b(c,a)}),"object"==typeof module&&module.exports&&(module.exports=b(c,require("intl-messageformat"))),a.DustHelperIntl=b(c,a.IntlMessageFormat)}("undefined"!=typeof global?global:this,function(a,b){function c(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,b,c){var d=a;return"function"==typeof a&&(a.isFunction===!0?d=a():(d="",b.tap(function(a){return d+=a,""}).render(a,c).untap(),""===d&&(d=!1))),d}function e(a,b){var c,d,e,f,g=b.length-1;for(c=a.stack;c;c=c.tail){for(d=c.head,e=0;g>e&&(f=b[e],d.hasOwnProperty(f));e+=1)d=d[f];if(e===g&&d.hasOwnProperty(b[g]))return d[b[g]]}return void 0}function f(a,b,c){return b.locales?d(b.locales,a,c):e(c,[l,"locales"])||this.locale}function g(a,b,f,g){var h,i,j,k={};f.formatName?(j=d(f.formatName,b,g),delete f.formatName,h=e(g,[l,"formats",a,j]),h=c({},h),c(h,f)):h=f;for(i in h)h.hasOwnProperty(i)&&(k[i]=d(h[i],b,g));return k}function h(a,c,g,h){var i,j,k,m={};if(h=h||{},h.hasOwnProperty("_msg"))j=h._msg;else{if(!h._key)throw new ReferenceError("@intlMessage needs either a `_msg` or `_key` parameter");j=e(c,[l,"messages",d(h._key,a,c)])}return"object"==typeof j&&"function"==typeof j.format?(a.write(j.format(h)),a):(m=e(c,[l,"formats"]),i=f(a,h,c),k=new b(j,i,m),a.write(k.format(h)),a)}function i(b,c,e,h){var i,j,k,l;if(h=h||{},!h.hasOwnProperty("val"))throw new ReferenceError("@intlNumber needs a `val` parameter");return k=d(h.val,b,c),delete h.val,i=g("number",b,h,c),j=f(b,h,c),l=new a.NumberFormat(j,i),b.write(l.format(k)),b}function j(b,c,e,h){var i,j,k,l;if(h=h||{},!h.hasOwnProperty("val"))throw new ReferenceError("@intlDate needs a `val` parameter");return k=d(h.val,b,c),delete h.val,k=new Date(k).getTime(),i=g("date",b,h,c),j=f(b,h,c),l=new a.DateTimeFormat(j,i),b.write(l.format(k)),b}function k(a,b,c,d){var e={};return c.block?(e[l]=d||{},a.render(c.block,b.push(e))):a}if(!a)throw new ReferenceError("Intl must be provided.");if(!b)throw new ReferenceError("IntlMessageFormat must be provided.");var l="intl";return{helpers:{intlMessage:h,intlNumber:i,intlDate:j,intl:k},registerWith:function(a){a.helpers.intlMessage=h,a.helpers.intlNumber=i,a.helpers.intlDate=j,a.helpers.intl=k}}});